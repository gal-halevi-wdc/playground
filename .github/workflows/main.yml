name: build
on: 
  workflow_dispatch:
    inputs:
      is_dummy:
        type: string
        description: Dummy build?
        default: 'true'
    
env:
  runner_comfig: ${{ fromJSON(vars.RUNNER_CONF) }}
jobs:
  job1:
    runs-on: ${{ fromJSON(vars.RUNNER_CONF).cloud.runs-on }}
    env:
      foo: "${{ inputs.is_dummy == 'true' && 'onprem' || 'cloud' }}"
    steps:
#       - name: view the secrets context
#         shell: bash
#         run: echo "$SECRETS_CONTEXT"
#         env:
#           SECRETS_CONTEXT: ${{ toJson(secrets) }}
      - run: |
          echo "foo=${{ env.foo }}"

        
        
        
        
        
#         run: |
#           echo "input=${{ inputs.is_dummy }}"
          
#           if [ "${{ inputs.is_dummy }}" = "true" ]; then
#               dummy_arg="--dummy"
#           else
#               dummy_arg="foo"
#           fi
          
#           echo "DUMMY_ARG=$dummy_arg" >> "$GITHUB_ENV"

#         run: |
#           echo "input=${{ inputs.is_dummy }}"
#           if (${{ inputs.is_dummy }} -ieq "true") 
#           {
#             $dummy_arg = "--dummy"
#           }
#           else 
#           {
#             $dummy_arg = "foo"
#           }
#           "DUMMY_ARG=$dummy_arg" >> $env:GITHUB_ENV
          
#       - run: |
#           echo ${{ env.DUMMY_ARG }}
